# 🎬 视频可视化功能使用指南

## 🌟 功能简介

将你的训练视频转换为专业的分析视频，支持4种可视化效果，方便学习、分享和教学！

---

## 📋 4种可视化类型详解

### 1. 🎨 骨架叠加 (Overlay)

**效果:** 在原视频上叠加彩色骨架

**适用场景:**
- ✅ 日常训练分析
- ✅ 动作细节观察
- ✅ 保留完整背景信息

**特点:**
- 保留原始视频
- 叠加彩色骨架和关键点
- 可以看到环境和动作的关系
- 最常用的可视化方式

**推荐度:** ⭐⭐⭐⭐⭐

---

### 2. 🦴 纯骨架动画 (Skeleton)

**效果:** 白色背景 + 黑色骨架线

**适用场景:**
- ✅ 专注动作本身
- ✅ 教学演示
- ✅ PPT/文档插图

**特点:**
- 去除所有背景
- 干净的白色画布
- 黑色骨架线
- 红色关键点标注
- 适合打印或投影

**推荐度:** ⭐⭐⭐⭐

---

### 3. 📊 对比视频 (Comparison)

**效果:** 原视频与骨架动画并排显示

**适用场景:**
- ✅ 动作对比学习
- ✅ 前后对比分析
- ✅ 教练指导讲解

**特点:**
- 左右分屏
- 左侧：原始视频
- 右侧：骨架动画
- 同步播放
- 方便对比观察

**推荐度:** ⭐⭐⭐⭐⭐

---

### 4. 📈 轨迹追踪 (Trajectory)

**效果:** 显示关键点的运动路径

**适用场景:**
- ✅ 动作路径分析
- ✅ 速度变化观察
- ✅ 技术动作优化

**特点:**
- 彩色轨迹线
- 时间轴颜色编码
- 显示运动方向
- 速度快慢可视化
- 适合技术分析

**推荐度:** ⭐⭐⭐⭐

---

## 🚀 快速使用

### 3步生成专业视频

#### 步骤1: 上传视频 📤
```
AI教练 → 视频生成标签 → 点击上传
```

#### 步骤2: 选择类型 🎯
```
选择4种可视化类型之一（推荐：骨架叠加）
```

#### 步骤3: 生成并下载 🎬
```
点击"生成可视化视频" → 等待 → 下载保存
```

---

## ⏱️ 生成时间参考

| 视频长度 | overlay | skeleton | comparison | trajectory |
|---------|---------|----------|------------|------------|
| 5秒     | ~30秒   | ~25秒    | ~40秒      | ~35秒      |
| 10秒    | ~60秒   | ~50秒    | ~80秒      | ~70秒      |
| 20秒    | ~120秒  | ~100秒   | ~160秒     | ~140秒     |
| 30秒    | ~180秒  | ~150秒   | ~240秒     | ~210秒     |

**提示:** 
- Skeleton 最快（无需处理原视频）
- Comparison 最慢（需要合成两个视频）
- 建议使用10-15秒的视频片段

---

## 📱 界面预览

### AI教练对话框
```
┌─────────────────────────────────┐
│ AI 教练                    ✕    │
├─────────────────────────────────┤
│ [🎯 动作分析] [🎬 视频生成]      │
├─────────────────────────────────┤
│                                 │
│  🎥 生成可视化视频               │
│                                 │
│  💡 将你的训练视频转换为专业的    │
│     分析视频，支持4种可视化效果   │
│                                 │
│  ┌───────────────────────────┐  │
│  │     📹  点击上传视频        │  │
│  └───────────────────────────┘  │
│                                 │
│  选择可视化类型：                │
│  ┌────────┬────────┐            │
│  │🎨 骨架叠│🦴 纯骨架│            │
│  ├────────┼────────┤            │
│  │📊 对比  │📈 轨迹  │            │
│  └────────┴────────┘            │
│                                 │
│  [ 🎬 生成可视化视频 ]           │
│                                 │
└─────────────────────────────────┘
```

---

## 💾 文件保存位置

生成的视频保存在：
```
D:\Library\Volleyball\output\vis_{类型}_{原文件名}
```

例如：
- `vis_overlay_training_video.mp4`
- `vis_skeleton_spike_practice.mp4`
- `vis_comparison_serve_demo.mp4`
- `vis_trajectory_dig_training.mp4`

---

## 🎯 最佳实践

### 获得最佳效果
1. ✅ 使用稳定的拍摄（三脚架）
2. ✅ 确保充足光线
3. ✅ 人物在画面中心
4. ✅ 完整拍摄动作过程
5. ✅ 避免快速移动镜头

### 视频长度建议
- 🎯 推荐：10-15秒
- ⚠️ 可以：5-30秒
- ❌ 不推荐：>30秒（太慢）

### 分辨率建议
- 🎯 推荐：720p (1280x720)
- ⚠️ 可以：1080p (1920x1080)
- ❌ 不推荐：4K（文件太大）

---

## 📚 实际应用案例

### 案例1: 教学分享
```
老师上传标准动作视频 → 生成骨架叠加 → 
发给学生 → 学生对照练习
```

### 案例2: 动作对比
```
录制改进前视频 → 生成对比视频 → 
练习一段时间 → 录制改进后视频 → 
两个视频对比 → 看到明显进步
```

### 案例3: 技术分析
```
录制扣球动作 → 生成轨迹追踪 → 
查看手臂运动路径 → 发现问题 → 
调整动作 → 再次测试
```

### 案例4: 社交分享
```
录制精彩动作 → 生成骨架叠加 → 
下载视频 → 分享到抖音/微信 → 
朋友点赞评论
```

---

## 🔧 技术参数

### 输入要求
- **格式:** MP4, AVI, MOV, MKV
- **大小:** <50MB
- **时长:** 建议10-30秒
- **分辨率:** 建议720p-1080p
- **帧率:** 24-60fps

### 输出规格
- **格式:** MP4 (H.264)
- **分辨率:** 与输入相同
- **帧率:** 10fps（骨架动画）
- **编码:** H.264
- **质量:** 高质量（CRF 18-23）

---

## 🎨 自定义选项（开发者）

### 修改骨架颜色
编辑 `backend/core/video_generator.py`:
```python
# 关键点颜色
point_color = (0, 0, 255)  # 红色
# 骨架线颜色
line_color = (0, 255, 0)   # 绿色
```

### 修改背景颜色
```python
bg_color = (255, 255, 255)  # 白色
bg_color = (0, 0, 0)        # 黑色
bg_color = (240, 240, 240)  # 浅灰
```

### 调整线条粗细
```python
point_radius = 8      # 关键点半径
line_thickness = 3    # 骨架线粗细
```

---

## ⚡ 快速开始

```bash
# 1. 启动服务器
run_flask.bat

# 2. 打开浏览器
http://localhost:5000

# 3. 点击AI教练 → 视频生成

# 4. 上传视频，选择类型，点击生成

# 5. 等待完成，下载视频

# 完成！🎉
```

---

## 📞 常见问题

### Q1: 生成时间太长？
A: 
- 使用较短的视频（10-15秒）
- 选择skeleton类型（最快）
- 降低视频分辨率到720p

### Q2: 生成失败？
A:
- 检查视频中是否有清晰的人物
- 确保视频不是太暗
- 尝试其他可视化类型

### Q3: 下载的视频无法播放？
A:
- 使用支持H.264的播放器（VLC、PotPlayer）
- 确保下载完整
- 重新生成

### Q4: 想批量生成？
A:
- 目前需要一个个上传
- 未来版本会支持批量处理

---

## 🎯 下一步

体验完视频生成后，你还可以：

1. **尝试AI分析** - 获得动作评分
2. **完成战术测试** - 学习排球知识
3. **查看排行榜** - 与他人竞争
4. **设置个人资料** - 记录成长历程

---

**开始创作你的专业排球分析视频吧！🎬**

